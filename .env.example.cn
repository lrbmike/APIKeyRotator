# ==========================================
# API Key Rotator - 环境配置示例
# ==========================================
#
# 当前架构：运行时自动检测 + 接口抽象
# 系统会根据环境变量自动选择数据库和缓存类型
#
# === 轻量级模式（默认） ===
# 不设置任何数据库和缓存相关变量，系统将自动使用：
# - 数据库: SQLite (文件: /app/data/api_key_rotator.db)
# - 缓存: 内存缓存
#
# === 企业级模式 ===
# 设置以下变量自动切换到 MySQL + Redis:
# - DB_HOST, DB_USER, DB_PASSWORD 等 -> 切换到 MySQL
# - REDIS_HOST, REDIS_PORT 等 -> 切换到 Redis

# === 数据库配置 ===
# SQLite（默认，无需额外配置）
DATABASE_PATH=/app/data/api_key_rotator.db

# MySQL（可选，设置以下变量自动启用）
# 方式1: 使用连接字符串
# DATABASE_URL=mysql://user:password@tcp(host:port)/database?charset=utf8mb4&parseTime=True&loc=Local

# 方式2: 使用分离的配置变量
DB_HOST=localhost
DB_USER=appdb
DB_PASSWORD=your_strong_password
DB_NAME=api_key_rotator
DB_PORT=3306

# === 缓存配置 ===
# 内存缓存（默认，无需额外配置）

# Redis（可选，设置以下变量自动启用）
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_URL=redis://localhost:6379/0

# === 服务器配置 ===
BACKEND_PORT=8000

# === 认证配置 ===
ADMIN_USERNAME=admin
ADMIN_PASSWORD=your_admin_password_here
JWT_SECRET=your_very_secret_and_random_jwt_key

# === 代理配置 ===
# 全局代理密钥（支持单个或多个，逗号分隔）
GLOBAL_PROXY_KEYS=your_secure_global_proxy_key

# 代理超时设置（秒）
PROXY_TIMEOUT=30

# 代理服务公共基础URL
PROXY_PUBLIC_BASE_URL=http://localhost:8000

# === 日志配置 ===
LOG_LEVEL=info

# === Docker 部署相关 ===
MYSQL_ROOT_PASSWORD=a_very_strong_root_password

# === 数据库重置选项 ===
# 如果设置为 true，所有表将被删除并重新创建
RESET_DB_TABLES=false