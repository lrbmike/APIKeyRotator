# ==========================================
# 动态配置方案 - 支持多种部署模式
# ==========================================
#
# 默认使用 SQLite + 内存缓存（轻量级模式）
# 当检测到 MySQL 或 Redis 环境变量时，自动切换到对应方案
#
# === 轻量级模式（默认） ===
# 不设置任何数据库和缓存相关变量，系统将自动使用：
# - 数据库: SQLite (文件: /app/data/api_key_rotator.db)
# - 缓存: 内存缓存
#
# === 企业级模式 ===
# 设置以下变量自动切换到 MySQL + Redis:
# - DB_HOST, DB_USER, DB_PASSWORD 等 -> 切换到 MySQL
# - REDIS_HOST, REDIS_PORT 等 -> 切换到 Redis

# === MySQL 配置（可选，不设置则使用 SQLite） ===
# 方式1: 使用连接字符串
# DATABASE_URL=mysql://user:password@tcp(host:port)/database?charset=utf8mb4&parseTime=True&loc=Local

# 方式2: 使用分离的配置变量
DB_HOST=localhost
DB_USER=appdb
DB_PASSWORD=your_strong_password
DB_NAME=api_key_rotator_db
DB_PORT=3306

# === Redis 配置（可选，不设置则使用内存缓存） ===
REDIS_HOST=localhost          # 启用Redis的必需变量
REDIS_PORT=6379               # 可选，默认6379
REDIS_PASSWORD=               # 可选，默认空字符串
REDIS_URL=redis://localhost:6379/0  # 可选，另一种连接字符串
REDIS_DB=0                    # 可选，默认0

# === SQLite 配置（仅在使用 SQLite 时生效） ===
DATABASE_PATH=/app/data/api_key_rotator.db

# === Docker 部署相关 ===
MYSQL_ROOT_PASSWORD=a_very_strong_root_password

# Backend Port
BACKEND_PORT=8000

# Frontend Port
FRONTEND_PORT=5173
# Local development address
VITE_API_TARGET_URL=http://backend:8000

# Nginx Configuration
NGINX_PORT=80
NGINX_SSL_PORT=443

# Global Proxy Authentication KEY
# Any request to the proxy address must include 'X-Proxy-Key' in the header.
#
# Supports a single key or multiple keys (comma-separated):
# Single key: GLOBAL_PROXY_KEYS=a_very_secret_key
# Multiple keys: GLOBAL_PROXY_KEYS=key1,key2,key3
GLOBAL_PROXY_KEYS=a_very_secret_key

# Admin Login Configuration
ADMIN_USER=admin
ADMIN_PASSWORD=a_very_strong_password

# Public Base URL for the proxy service
PROXY_PUBLIC_BASE_URL=https://api.yourdomain.com

# Database table reset option (if set to true, all tables will be dropped and recreated)
RESET_DB_TABLES=false